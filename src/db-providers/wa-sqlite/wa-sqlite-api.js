/*! For license information please see wa-sqlite-api.js.LICENSE.txt */
var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{Fkb:()=>Xo,URc:()=>wo,R_B:()=>kn,d4h:()=>i,$Xt:()=>te,uEU:()=>re,Tz1:()=>ee,cEX:()=>Kr,gBJ:()=>Xr,l3E:()=>qr,B69:()=>L,lvZ:()=>qe,p9C:()=>u,hJx:()=>_,Ux8:()=>m,zMz:()=>rt,CgY:()=>nt,t4g:()=>at,R4d:()=>ot,XyI:()=>it,lQ8:()=>ut,Hdp:()=>ct,Tw$:()=>st,Y79:()=>lt,Hdo:()=>ft,H1D:()=>pt,SOz:()=>Zr,g$m:()=>h,bsS:()=>mr,Gxl:()=>Tr,c3L:()=>gr,u$q:()=>Sr,PL:()=>Lr,znU:()=>Ir,Pik:()=>xr,i4y:()=>kr,d_v:()=>Yr,wWJ:()=>Or,T2e:()=>en,J0L:()=>Hr,t8x:()=>vr,Uwo:()=>yr,WXz:()=>A,DE5:()=>Nr,DZ9:()=>Rr,BKY:()=>Ar,hAd:()=>Cr,xOA:()=>Qr,uQ0:()=>Pr,OSH:()=>Mr,R76:()=>jr,gT3:()=>zr,SUy:()=>E,N9g:()=>n,bpX:()=>Ae,m7f:()=>de,dXX:()=>ce,yq9:()=>De,lbG:()=>Ue,$Ow:()=>Ce,Lwr:()=>ge,kLR:()=>Me,IG:()=>se,aPG:()=>ae,nTt:()=>me,kui:()=>Oe,oxn:()=>ie,sy0:()=>ne,juO:()=>Pe,yEb:()=>be,EkU:()=>he,yFm:()=>Re,xxM:()=>pe,tCz:()=>ye,tUb:()=>_e,K8l:()=>xe,sSG:()=>Fe,$MK:()=>Qe,nek:()=>oe,xSw:()=>ue,mRH:()=>je,jpv:()=>Te,$lm:()=>le,yYC:()=>Ee,l9F:()=>we,xms:()=>ve,YSJ:()=>ke,yi5:()=>Le,dQ6:()=>fe,S7b:()=>Ne,uEX:()=>Se,Cy4:()=>Ie,Bk3:()=>Ge,bvJ:()=>I,_R0:()=>y,gmo:()=>$r,bgs:()=>rn,fEe:()=>Je,vzF:()=>pr,V0V:()=>rr,xT8:()=>or,Ojk:()=>Ze,g9U:()=>fr,Gsh:()=>cr,OEd:()=>sr,WUr:()=>lr,P5g:()=>tr,gTy:()=>ar,nbB:()=>er,A6h:()=>nr,G1k:()=>ur,pMm:()=>ir,A$M:()=>hr,WF6:()=>dr,zlK:()=>Dr,ESS:()=>Be,bA6:()=>a,qlf:()=>f,auP:()=>Ft,zdN:()=>Ht,P3t:()=>Bt,iMe:()=>Gt,FuT:()=>Kt,MMv:()=>Wt,p1y:()=>Ut,k$g:()=>Vt,_MU:()=>qt,_Nv:()=>Zt,d2t:()=>Jt,DSR:()=>$t,WnM:()=>Xt,ZkT:()=>Yt,tel:()=>zt,a8U:()=>p,Ucx:()=>C,wyC:()=>Z,arr:()=>Q,rNs:()=>P,crF:()=>tt,eBK:()=>M,hmy:()=>j,k5z:()=>D,n6A:()=>F,rP1:()=>U,LdW:()=>B,JBI:()=>G,t1_:()=>W,Hd1:()=>q,hOb:()=>K,Y3G:()=>H,R7C:()=>et,GmG:()=>V,Vec:()=>X,y$_:()=>Y,F0n:()=>z,t0u:()=>$,y8g:()=>J,bpM:()=>fn,v7S:()=>on,uIf:()=>cn,faD:()=>un,EMC:()=>ln,H_8:()=>nn,DjC:()=>pn,XcZ:()=>an,WNj:()=>vn,hx9:()=>hn,urA:()=>sn,etR:()=>yn,Cf_:()=>c,Ymo:()=>Dt,rY4:()=>Qt,e1o:()=>jt,wnZ:()=>Mt,QBQ:()=>Pt,pck:()=>T,xKb:()=>g,jg1:()=>S,VsL:()=>s,Qvs:()=>k,Stw:()=>v,bNP:()=>O,xgP:()=>He,_o_:()=>r,KwK:()=>Et,zYS:()=>yt,hvr:()=>_t,BY3:()=>dt,NcX:()=>Ot,dPd:()=>mt,KLd:()=>St,axt:()=>wt,pcf:()=>Ct,vK6:()=>kt,QQD:()=>Rt,pCT:()=>ht,YG8:()=>vt,VRv:()=>Nt,jnA:()=>It,uAw:()=>xt,gfv:()=>Tt,fMz:()=>Lt,QH:()=>gt,mLO:()=>bt,$6A:()=>At,k86:()=>o,$3E:()=>Fr,DLx:()=>d,UTy:()=>x,ccg:()=>Ur,Yo6:()=>l,SjM:()=>tn,Odp:()=>Vr,hE7:()=>R,gjd:()=>Jr,YB$:()=>b,k2H:()=>Br,sq9:()=>Ke,YvX:()=>_r,uj5:()=>wr,yN9:()=>br,yeb:()=>Er,Fkk:()=>We,dO0:()=>w,m22:()=>Gr,_Xb:()=>Ve,N7Z:()=>Wr,Csu:()=>$e,gtw:()=>ze,lS2:()=>Ye,Ld6:()=>Xe,C8O:()=>N,d96:()=>Ko});var r=0,n=1,a=2,o=3,i=4,u=5,c=6,s=7,l=8,f=9,p=10,h=11,v=12,y=13,_=14,d=15,E=16,b=17,w=18,m=19,T=20,g=21,S=22,L=23,I=24,x=25,k=26,O=27,N=28,R=100,A=101,C=3338,Q=3594,P=4106,M=8202,j=2570,D=5898,F=1290,U=1802,B=1034,G=6410,W=3850,q=3082,H=266,K=2314,V=5642,X=522,Y=1546,z=2058,$=6922,J=778,Z=7434,tt=7690,et=7946,rt=275,nt=531,at=787,ot=1043,it=1299,ut=2835,ct=1555,st=2579,lt=1811,ft=2067,pt=2323,ht=1,vt=2,yt=4,_t=8,dt=16,Et=32,bt=64,wt=128,mt=256,Tt=512,gt=1024,St=2048,Lt=4096,It=8192,xt=16384,kt=32768,Ot=65536,Nt=131072,Rt=262144,At=524288,Ct=16777216,Qt=0,Pt=1,Mt=2,jt=3,Dt=4,Ft=1,Ut=2,Bt=4,Gt=8,Wt=16,qt=32,Ht=64,Kt=128,Vt=256,Xt=512,Yt=1024,zt=2048,$t=4096,Jt=8192,Zt=16384,te=0,ee=1,re=2,ne=1,ae=2,oe=3,ie=4,ue=5,ce=6,se=7,le=8,fe=9,pe=10,he=11,ve=12,ye=13,_e=14,de=15,Ee=16,be=18,we=19,me=20,Te=21,ge=22,Se=23,Le=24,Ie=25,xe=26,ke=27,Oe=28,Ne=29,Re=30,Ae=31,Ce=32,Qe=33,Pe=34,Me=35,je=36,De=37,Fe=38,Ue=39,Be=1,Ge=2,We=3,qe=4,He=5,Ke=0,Ve=-1,Xe=1,Ye=2,ze=3,$e=4,Je=2,Ze=4,tr=8,er=16,rr=32,nr=64,ar=65,or=66,ir=67,ur=68,cr=69,sr=70,lr=71,fr=72,pr=150,hr=1,vr=2048,yr=524288,_r=1048576,dr=2097152,Er=2,br=3,wr=16,mr=1,Tr=2,gr=3,Sr=4,Lr=5,Ir=6,xr=7,kr=8,Or=9,Nr=10,Rr=11,Ar=12,Cr=13,Qr=14,Pr=15,Mr=16,jr=17,Dr=18,Fr=19,Ur=20,Br=21,Gr=22,Wr=23,qr=24,Hr=25,Kr=26,Vr=27,Xr=28,Yr=29,zr=30,$r=31,Jr=32,Zr=0,tn=33,en=1,rn=2,nn=0,an=1,on=2,un=3,cn=4,sn=5,ln=6,fn=7,pn=8,hn=9,vn=10,yn=11;function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function dn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,En(n.key),n)}}function En(t){var e=function(t,e){if("object"!=_n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=_n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_n(e)?e:String(e)}var bn=function(){function t(){var e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,(r=En(r="mxPathName"))in e?Object.defineProperty(e,r,{value:64,enumerable:!0,configurable:!0,writable:!0}):e[r]=64}var e,n;return e=t,(n=[{key:"xClose",value:function(t){return p}},{key:"xRead",value:function(t,e,r){return p}},{key:"xWrite",value:function(t,e,r){return p}},{key:"xTruncate",value:function(t,e){return p}},{key:"xSync",value:function(t,e){return r}},{key:"xFileSize",value:function(t,e){return p}},{key:"xLock",value:function(t,e){return r}},{key:"xUnlock",value:function(t,e){return r}},{key:"xCheckReservedLock",value:function(t,e){return e.setInt32(0,0,!0),r}},{key:"xFileControl",value:function(t,e,r){return v}},{key:"xSectorSize",value:function(t){return 512}},{key:"xDeviceCharacteristics",value:function(t){return 0}},{key:"xOpen",value:function(t,e,r,n){return _}},{key:"xDelete",value:function(t,e){return p}},{key:"xAccess",value:function(t,e,r){return p}},{key:"handleAsync",value:function(t){return t()}}])&&dn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function mn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xn(n.key),n)}}function gn(t,e){return gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gn(t,e)}function Sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ln(t){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ln(t)}function In(t,e,r){return(e=xn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xn(t){var e=function(t,e){if("object"!=wn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=wn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==wn(e)?e:String(e)}[mt,St,Tt,Lt,gt,It,xt].reduce((function(t,e){return t|e}));var kn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gn(t,e)}(u,bn);var e,n,a,o,i=(a=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ln(a);if(o){var r=Ln(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sn(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),In(Sn(t=i.call(this)),"name","memory"),In(Sn(t),"mapNameToFile",new Map),In(Sn(t),"mapIdToFile",new Map),t}return e=u,(n=[{key:"close",value:function(){var t,e=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return mn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}(this.mapIdToFile.keys());try{for(e.s();!(t=e.n()).done;){var r=t.value;this.xClose(r)}}catch(t){e.e(t)}finally{e.f()}}},{key:"xOpen",value:function(t,e,n,a){t=t||Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(36);var o=this.mapNameToFile.get(t);if(!o){if(!(n&yt))return _;o={name:t,flags:n,size:0,data:new ArrayBuffer(0)},this.mapNameToFile.set(t,o)}return this.mapIdToFile.set(e,o),a.setInt32(0,n,!0),r}},{key:"xClose",value:function(t){var e=this.mapIdToFile.get(t);return this.mapIdToFile.delete(t),e.flags&_t&&this.mapNameToFile.delete(e.name),r}},{key:"xRead",value:function(t,e,n){var a=this.mapIdToFile.get(t),o=Math.min(n,a.size),i=Math.min(n+e.byteLength,a.size)-o;return i&&e.set(new Uint8Array(a.data,o,i)),i<e.byteLength?(e.fill(0,i),X):r}},{key:"xWrite",value:function(t,e,n){var a=this.mapIdToFile.get(t);if(n+e.byteLength>a.data.byteLength){var o=Math.max(n+e.byteLength,2*a.data.byteLength),i=new ArrayBuffer(o);new Uint8Array(i).set(new Uint8Array(a.data,0,a.size)),a.data=i}return new Uint8Array(a.data,n,e.byteLength).set(e),a.size=Math.max(a.size,n+e.byteLength),r}},{key:"xTruncate",value:function(t,e){var n=this.mapIdToFile.get(t);return n.size=Math.min(n.size,e),r}},{key:"xFileSize",value:function(t,e){var n=this.mapIdToFile.get(t);return e.setBigInt64(0,BigInt(n.size),!0),r}},{key:"xDelete",value:function(t,e){return this.mapNameToFile.delete(t),r}},{key:"xAccess",value:function(t,e,n){var a=this.mapNameToFile.get(t);return n.setInt32(0,a?1:0,!0),r}}])&&Tn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}();function On(t){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(t)}function Nn(t,e){return Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nn(t,e)}function Rn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=An(t);if(e){var a=An(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===On(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function An(t){return An=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},An(t)}function Cn(){Cn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),u=new N(n||[]);return a(i,"_invoke",{value:I(t,r,u)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",v="executing",y="completed",_={};function d(){}function E(){}function b(){}var w={};s(w,i,(function(){return this}));var m=Object.getPrototypeOf,T=m&&m(m(R([])));T&&T!==r&&n.call(T,i)&&(w=T);var g=b.prototype=d.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(a,o,i,u){var c=f(t[a],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==On(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,u)}),(function(t){r("throw",t,i,u)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function I(e,r,n){var a=p;return function(o,i){if(a===v)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var c=x(u,n);if(c){if(c===_)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=v;var s=f(e,r,n);if("normal"===s.type){if(a=n.done?y:h,s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function x(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,_;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,_):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(On(e)+" is not iterable")}return E.prototype=b,a(g,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:E,configurable:!0}),E.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,u,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new L(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return u.type="throw",u.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),_}},e}function Qn(t,e,r,n,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,a)}function Pn(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){Qn(o,n,a,i,u,"next",t)}function u(t){Qn(o,n,a,i,u,"throw",t)}i(void 0)}))}}function Mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Un(n.key),n)}}function Dn(t,e,r){return e&&jn(t.prototype,e),r&&jn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fn(t,e){Gn(t,e),e.add(t)}function Un(t){var e=function(t,e){if("object"!=On(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=On(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==On(e)?e:String(e)}function Bn(t,e,r){Gn(t,e),e.set(t,r)}function Gn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Wn(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Kn(t,e,"set"),r),r}function qn(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Hn(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Kn(t,e,"get"))}function Kn(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Vn=Qt|Pt|Mt|jt|Dt,Xn=new WeakMap,Yn=new WeakMap,zn=new WeakMap,$n=new WeakSet,Jn=new WeakSet,Zn=new WeakSet,ta=function(){function t(){var e,r,n;Mn(this,t),Fn(this,Zn),Fn(this,Jn),Fn(this,$n),Bn(this,Xn,{writable:!0,value:Qt}),e=this,n=0,(r=Un(r="timeoutMillis"))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,Bn(this,Yn,{writable:!0,value:new Map}),Bn(this,zn,{writable:!0,value:Promise.resolve(0)})}var e,r,n,a,o,i,u,c,s,l,f,p,h,v;return Dn(t,[{key:"state",get:function(){return Hn(this,Xn)}},{key:"lock",value:(v=Pn(Cn().mark((function t(e){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",qn(this,$n,ea).call(this,qn(this,Jn,na),e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"unlock",value:(h=Pn(Cn().mark((function t(e){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",qn(this,$n,ea).call(this,qn(this,Zn,oa),e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"isSomewhereReserved",value:(p=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("unimplemented");case 1:case"end":return t.stop()}}),t)}))),function(){return p.apply(this,arguments)})},{key:"_NONEtoSHARED",value:(f=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)})},{key:"_SHAREDtoEXCLUSIVE",value:(l=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._SHAREDtoRESERVED();case 2:return t.next=4,this._RESERVEDtoEXCLUSIVE();case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"_SHAREDtoRESERVED",value:(s=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"_RESERVEDtoEXCLUSIVE",value:(c=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})},{key:"_EXCLUSIVEtoRESERVED",value:(u=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"_EXCLUSIVEtoSHARED",value:(i=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._EXCLUSIVEtoRESERVED();case 2:return t.next=4,this._RESERVEDtoSHARED();case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"_EXCLUSIVEtoNONE",value:(o=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._EXCLUSIVEtoRESERVED();case 2:return t.next=4,this._RESERVEDtoSHARED();case 4:return t.next=6,this._SHAREDtoNONE();case 6:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"_RESERVEDtoSHARED",value:(a=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"_RESERVEDtoNONE",value:(n=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._RESERVEDtoSHARED();case 2:return t.next=4,this._SHAREDtoNONE();case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"_SHAREDtoNONE",value:(r=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"_acquireWebLock",value:function(t,e){var r=this;return new Promise(function(){var n=Pn(Cn().mark((function n(a,o){return Cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.locks.request(t,e,(function(e){if(a(e),e)return new Promise((function(e){return Hn(r,Yn).set(t,e)}))}));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),o(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(t,e){return n.apply(this,arguments)}}())}},{key:"_releaseWebLock",value:function(t){var e;null===(e=Hn(this,Yn).get(t))||void 0===e||e(),Hn(this,Yn).delete(t)}},{key:"_pollWebLock",value:(e=Pn(Cn().mark((function t(e){var r,n;return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.locks.query();case 2:return n=t.sent,t.abrupt("return",null===(r=n.held.find((function(t){return t.name===e})))||void 0===r?void 0:r.mode);case 4:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"_getTimeoutSignal",value:function(){if(this.timeoutMillis){var t=new AbortController;return setTimeout((function(){return t.abort()}),this.timeoutMillis),t.signal}}}]),t}();function ea(t,e){return ra.apply(this,arguments)}function ra(){return(ra=Pn(Cn().mark((function t(e,n){var a,o,i=this;return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n&Vn,t.prev=1,o=function(){return e.call(i,a)},t.next=5,Wn(this,zn,Hn(this,zn).then(o,o));case 5:return Wn(this,Xn,a),t.abrupt("return",r);case 9:if(t.prev=9,t.t0=t.catch(1),"AbortError"!==t.t0.name){t.next=13;break}return t.abrupt("return",u);case 13:return console.error(t.t0),t.abrupt("return",W);case 15:case"end":return t.stop()}}),t,this,[[1,9]])})))).apply(this,arguments)}function na(t){return aa.apply(this,arguments)}function aa(){return(aa=Pn(Cn().mark((function t(e){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==Hn(this,Xn)){t.next=2;break}return t.abrupt("return",r);case 2:t.t0=Hn(this,Xn),t.next=t.t0===Qt?5:t.t0===Pt?10:t.t0===Mt?16:21;break;case 5:t.t1=e,t.next=t.t1===Pt?8:9;break;case 8:return t.abrupt("return",this._NONEtoSHARED());case 9:case 15:case 20:case 21:throw new Error("unexpected transition ".concat(Hn(this,Xn)," -> ").concat(e));case 10:t.t2=e,t.next=t.t2===Mt?13:t.t2===Dt?14:15;break;case 13:return t.abrupt("return",this._SHAREDtoRESERVED());case 14:return t.abrupt("return",this._SHAREDtoEXCLUSIVE());case 16:t.t3=e,t.next=t.t3===Dt?19:20;break;case 19:return t.abrupt("return",this._RESERVEDtoEXCLUSIVE());case 22:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function oa(t){return ia.apply(this,arguments)}function ia(){return(ia=Pn(Cn().mark((function t(e){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==Hn(this,Xn)){t.next=2;break}return t.abrupt("return",r);case 2:t.t0=Hn(this,Xn),t.next=t.t0===Dt?5:t.t0===Mt?11:t.t0===Pt?17:22;break;case 5:t.t1=e,t.next=t.t1===Pt?8:t.t1===Qt?9:10;break;case 8:return t.abrupt("return",this._EXCLUSIVEtoSHARED());case 9:return t.abrupt("return",this._EXCLUSIVEtoNONE());case 10:case 16:case 21:case 22:throw new Error("unexpected transition ".concat(Hn(this,Xn)," -> ").concat(e));case 11:t.t2=e,t.next=t.t2===Pt?14:t.t2===Qt?15:16;break;case 14:return t.abrupt("return",this._RESERVEDtoSHARED());case 15:return t.abrupt("return",this._RESERVEDtoNONE());case 17:t.t3=e,t.next=t.t3===Qt?20:21;break;case 20:return t.abrupt("return",this._SHAREDtoNONE());case 23:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var ua=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nn(t,e)}(u,ta);var e,r,n,a,o,i=Rn(u);function u(t){var e;return Mn(this,u),(e=i.call(this))._lockName=t+"-outer",e._reservedName=t+"-reserved",e}return Dn(u,[{key:"isSomewhereReserved",value:(o=Pn(Cn().mark((function t(){var e;return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._pollWebLock(this._reservedName);case 2:return e=t.sent,t.abrupt("return","exclusive"===e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"_NONEtoSHARED",value:(a=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()});case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"_SHAREDtoRESERVED",value:(n=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()});case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"_RESERVEDtoSHARED",value:(r=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._releaseWebLock(this._reservedName);case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"_SHAREDtoNONE",value:(e=Pn(Cn().mark((function t(){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._releaseWebLock(this._lockName);case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),u}();function ca(t){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(t)}function sa(){sa=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),u=new N(n||[]);return a(i,"_invoke",{value:I(t,r,u)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",v="executing",y="completed",_={};function d(){}function E(){}function b(){}var w={};s(w,i,(function(){return this}));var m=Object.getPrototypeOf,T=m&&m(m(R([])));T&&T!==r&&n.call(T,i)&&(w=T);var g=b.prototype=d.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(a,o,i,u){var c=f(t[a],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==ca(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,u)}),(function(t){r("throw",t,i,u)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function I(e,r,n){var a=p;return function(o,i){if(a===v)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var c=x(u,n);if(c){if(c===_)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=v;var s=f(e,r,n);if("normal"===s.type){if(a=n.done?y:h,s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function x(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,_;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,_):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(ca(e)+" is not iterable")}return E.prototype=b,a(g,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:E,configurable:!0}),E.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,u,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new L(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return u.type="throw",u.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),_}},e}function la(t,e,r,n,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,a)}function fa(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){la(o,n,a,i,u,"next",t)}function u(t){la(o,n,a,i,u,"throw",t)}i(void 0)}))}}function pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ha(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ya(n.key),n)}}function va(t,e,r){return e&&ha(t.prototype,e),r&&ha(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ya(t){var e=function(t,e){if("object"!=ca(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ca(e)?e:String(e)}function _a(t,e,r){da(t,e),e.set(t,r)}function da(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ea(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function ba(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,ma(t,e,"get"))}function wa(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,ma(t,e,"set"),r),r}function ma(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Ta=5e3,ga=0,Sa=new WeakMap,La=new WeakMap,Ia=new WeakMap,xa=new WeakMap,ka=new WeakMap,Oa=new WeakMap,Na=new WeakMap,Ra=new WeakMap,Aa=new WeakSet,Ca=function(){function t(e){var r,n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{durability:"default"};pa(this,t),da(this,r=Aa),r.add(this),_a(this,La,{writable:!0,value:void 0}),_a(this,Ia,{writable:!0,value:void 0}),_a(this,xa,{writable:!0,value:void 0}),_a(this,ka,{writable:!0,value:null}),_a(this,Oa,{writable:!0,value:0}),_a(this,Na,{writable:!0,value:Promise.resolve()}),_a(this,Ra,{writable:!0,value:Promise.resolve()}),wa(this,Ia,Promise.resolve(e).then((function(t){return wa(n,La,t)}))),wa(this,xa,a)}var e,r,n;return va(t,[{key:"close",value:(n=fa(sa().mark((function t(){var e,r;return sa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=ba(this,La))||void 0===e){t.next=4;break}t.t0=e,t.next=7;break;case 4:return t.next=6,ba(this,Ia);case 6:t.t0=t.sent;case 7:return r=t.t0,t.next=10,ba(this,Na);case 10:return t.next=12,this.sync();case 12:r.close();case 13:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"run",value:(r=fa(sa().mark((function t(e,r){var n,a=this;return sa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ba(this,Na).then((function(){return Ea(a,Aa,Qa).call(a,e,r)})),wa(this,Na,n.catch((function(){}))),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"sync",value:(e=fa(sa().mark((function t(){return sa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ba(this,Na);case 2:return t.next=4,ba(this,Ra);case 4:wa(this,Ra,Promise.resolve());case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}();function Qa(t,e){return Pa.apply(this,arguments)}function Pa(){return(Pa=fa(sa().mark((function t(e,r){var n,a,o,i,u,c,s,l=this;return sa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(n=ba(this,La))||void 0===n){t.next=4;break}t.t0=n,t.next=7;break;case 4:return t.next=6,ba(this,Ia);case 6:t.t0=t.sent;case 7:if(o=t.t0,"readwrite"!==e||"readonly"!==(null===(a=ba(this,ka))||void 0===a?void 0:a.mode)){t.next=12;break}wa(this,ka,null),t.next=24;break;case 12:if(!(performance.now()-ba(this,Oa)>Ta)){t.next=24;break}t.prev=13,null===(i=ba(this,ka))||void 0===i||i.commit(),t.next=21;break;case 17:if(t.prev=17,t.t1=t.catch(13),"InvalidStateError"===t.t1.name){t.next=21;break}throw t.t1;case 21:return t.next=23,new Promise((function(t){return setTimeout(t)}));case 23:wa(this,ka,null);case 24:u=sa().mark((function t(){var n,a;return sa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ba(l,ka)||(wa(l,ka,o.transaction(o.objectStoreNames,e,ba(l,xa))),n=wa(l,Oa,performance.now()),wa(l,Ra,ba(l,Ra).then((function(){return new Promise((function(t,e){ba(l,ka).addEventListener("complete",(function(e){t(),ba(l,ka)===e.target&&wa(l,ka,null),"transaction ".concat(Sa.get(e.target)," complete")})),ba(l,ka).addEventListener("abort",(function(t){console.warn("tx abort",(performance.now()-n)/1e3);var r=t.target.error;e(r),ba(l,ka)===t.target&&wa(l,ka,null),"transaction ".concat(Sa.get(t.target)," aborted")}))}))}))),"new transaction ".concat(ga," ").concat(e),Sa.set(ba(l,ka),ga++)),t.prev=1,a=Object.fromEntries(Array.from(o.objectStoreNames,(function(t){return[t,new Da(ba(l,ka).objectStore(t))]}))),t.next=5,r(a);case 5:return t.t0=t.sent,t.abrupt("return",{v:t.t0});case 9:if(t.prev=9,t.t1=t.catch(1),wa(l,ka,null),!s){t.next=14;break}throw t.t1;case 14:case"end":return t.stop()}}),t,null,[[1,9]])})),s=0;case 26:if(!(s<2)){t.next=34;break}return t.delegateYield(u(),"t2",28);case 28:if(!(c=t.t2)){t.next=31;break}return t.abrupt("return",c.v);case 31:++s,t.next=26;break;case 34:case"end":return t.stop()}}),t,this,[[13,17]])})))).apply(this,arguments)}function Ma(t){return new Promise((function(e,r){t.addEventListener("success",(function(){return e(t.result)})),t.addEventListener("error",(function(){return r(t.error)}))}))}var ja=new WeakMap,Da=function(){function t(e){pa(this,t),_a(this,ja,{writable:!0,value:void 0}),wa(this,ja,e)}return va(t,[{key:"get",value:function(t){return"get ".concat(ba(this,ja).name),Ma(ba(this,ja).get(t))}},{key:"getAll",value:function(t,e){return"getAll ".concat(ba(this,ja).name),Ma(ba(this,ja).getAll(t,e))}},{key:"getKey",value:function(t){return"getKey ".concat(ba(this,ja).name),Ma(ba(this,ja).getKey(t))}},{key:"getAllKeys",value:function(t,e){return"getAllKeys ".concat(ba(this,ja).name),Ma(ba(this,ja).getAllKeys(t,e))}},{key:"put",value:function(t,e){return"put ".concat(ba(this,ja).name),Ma(ba(this,ja).put(t,e))}},{key:"delete",value:function(t){return"delete ".concat(ba(this,ja).name),Ma(ba(this,ja).delete(t))}},{key:"clear",value:function(){return"clear ".concat(ba(this,ja).name),Ma(ba(this,ja).clear())}},{key:"index",value:function(t){return new Ua(ba(this,ja).index(t))}}]),t}(),Fa=new WeakMap,Ua=function(){function t(e){pa(this,t),_a(this,Fa,{writable:!0,value:void 0}),wa(this,Fa,e)}return va(t,[{key:"getAllKeys",value:function(t,e){return"IDBIndex.getAllKeys ".concat(ba(this,Fa).objectStore.name,"<").concat(ba(this,Fa).name,">"),Ma(ba(this,Fa).getAllKeys(t,e))}}]),t}();function Ba(t){return Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(t)}function Ga(){Ga=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),u=new N(n||[]);return a(i,"_invoke",{value:I(t,r,u)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",v="executing",y="completed",_={};function d(){}function E(){}function b(){}var w={};s(w,i,(function(){return this}));var m=Object.getPrototypeOf,T=m&&m(m(R([])));T&&T!==r&&n.call(T,i)&&(w=T);var g=b.prototype=d.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(a,o,i,u){var c=f(t[a],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Ba(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,u)}),(function(t){r("throw",t,i,u)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function I(e,r,n){var a=p;return function(o,i){if(a===v)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var c=x(u,n);if(c){if(c===_)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=v;var s=f(e,r,n);if("normal"===s.type){if(a=n.done?y:h,s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function x(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,_;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,_):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Ba(e)+" is not iterable")}return E.prototype=b,a(g,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:E,configurable:!0}),E.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,u,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new L(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return u.type="throw",u.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),_}},e}function Wa(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=qa(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function qa(t,e){if(t){if("string"==typeof t)return Ha(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ha(t,e):void 0}}function Ha(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ka(t,e,r,n,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,a)}function Va(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){Ka(o,n,a,i,u,"next",t)}function u(t){Ka(o,n,a,i,u,"throw",t)}i(void 0)}))}}function Xa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ya(n.key),n)}}function Ya(t){var e=function(t,e){if("object"!=Ba(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ba(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ba(e)?e:String(e)}function za(){return za="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Za(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(arguments.length<3?t:r):a.value}},za.apply(this,arguments)}function $a(t,e){return $a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$a(t,e)}function Ja(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Za(t){return Za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(t)}function to(t,e){ro(t,e),e.add(t)}function eo(t,e,r){ro(t,e),e.set(t,r)}function ro(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function no(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function ao(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,io(t,e,"get"))}function oo(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,io(t,e,"set"),r),r}function io(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var uo={durability:"default",purge:"deferred",purgeAtLeast:16},co=new WeakMap,so=new WeakMap,lo=new WeakMap,fo=new WeakMap,po=new WeakMap,ho=new WeakMap,vo=new WeakSet,yo=new WeakSet,_o=new WeakSet,Eo=new WeakSet,bo=new WeakSet,wo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$a(t,e)}(s,bn);var e,n,a,o,i,u,c=(i=s,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Za(i);if(u){var r=Za(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ba(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ja(t)}(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wa-sqlite",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uo;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),to(Ja(t=c.call(this)),bo),to(Ja(t),Eo),to(Ja(t),_o),to(Ja(t),yo),to(Ja(t),vo),eo(Ja(t),co,{writable:!0,value:void 0}),eo(Ja(t),so,{writable:!0,value:new Map}),eo(Ja(t),lo,{writable:!0,value:void 0}),eo(Ja(t),fo,{writable:!0,value:new Set}),eo(Ja(t),po,{writable:!0,value:performance.now()}),eo(Ja(t),ho,{writable:!0,value:new Set}),t.name=e,oo(Ja(t),co,Object.assign({},uo,r)),oo(Ja(t),lo,new Ca(function(t){return new Promise((function(e,r){var n=globalThis.indexedDB.open(t,5);n.addEventListener("upgradeneeded",(function(){n.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])})),n.addEventListener("success",(function(){e(n.result)})),n.addEventListener("error",(function(){r(n.error)}))}))}(e),{durability:ao(Ja(t),co).durability})),t}return e=s,n=[{key:"close",value:(o=Va(Ga().mark((function t(){var e,r,n,a;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Wa(ao(this,so).keys()),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=9;break}return a=n.value,t.next=7,this.xClose(a);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:return t.next=19,null===(e=ao(this,lo))||void 0===e?void 0:e.close();case 19:oo(this,lo,null);case 20:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))),function(){return o.apply(this,arguments)})},{key:"xOpen",value:function(t,e,n,a){var o=this;return this.handleAsync(Va(Ga().mark((function i(){var u,c;return Ga().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return null===t&&(t="null_".concat(e)),"xOpen ".concat(t," 0x").concat(e.toString(16)," 0x").concat(n.toString(16)),i.prev=2,u=new URL(t,"http://localhost/"),c={path:u.pathname,flags:n,block0:null,isMetadataChanged:!0,locks:new ua(u.pathname)},ao(o,so).set(e,c),i.next=8,ao(o,lo).run("readwrite",function(){var t=Va(Ga().mark((function t(e){var r;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.blocks,t.next=3,r.get(no(o,Eo,Lo).call(o,c,0));case 3:if(c.block0=t.sent,c.block0){t.next=11;break}if(!(n&yt)){t.next=10;break}c.block0={path:c.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},r.put(c.block0),t.next=11;break;case 10:throw new Error("file not found: ".concat(c.path));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:return a.setInt32(0,n&ht,!0),i.abrupt("return",r);case 12:return i.prev=12,i.t0=i.catch(2),console.error(i.t0),i.abrupt("return",_);case 16:case"end":return i.stop()}}),i,null,[[2,12]])}))))}},{key:"xClose",value:function(t){var e=this;return this.handleAsync(Va(Ga().mark((function n(){var a;return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(a=ao(e,so).get(t))&&("xClose ".concat(a.path),ao(e,so).delete(t),a.flags&_t&&ao(e,lo).run("readwrite",(function(t){t.blocks.delete(IDBKeyRange.bound([a.path],[a.path,[]]))}))),n.abrupt("return",r);case 6:return n.prev=6,n.t0=n.catch(0),console.error(n.t0),n.abrupt("return",p);case 10:case"end":return n.stop()}}),n,null,[[0,6]])}))))}},{key:"xRead",value:function(t,e,n){var a=this;return this.handleAsync(Va(Ga().mark((function o(){var i,u;return Ga().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=ao(a,so).get(t),"xRead ".concat(i.path," ").concat(e.byteLength," ").concat(n),o.prev=2,o.next=5,ao(a,lo).run("readonly",function(){var t=Va(Ga().mark((function t(o){var u,c,s,l,f,p,h;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u=o.blocks,c=0;case 2:if(!(c<e.byteLength)){t.next=22;break}if(!((s=n+c)<i.block0.data.byteLength)){t.next=8;break}t.t0=i.block0,t.next=11;break;case 8:return t.next=10,u.get(no(a,Eo,Lo).call(a,i,-s));case 10:t.t0=t.sent;case 11:if((l=t.t0)&&!(l.data.byteLength-l.offset<=s)){t.next=15;break}return e.fill(0,c),t.abrupt("return",X);case 15:f=e.subarray(c),p=s+l.offset,h=Math.min(Math.max(l.data.byteLength-p,0),f.byteLength),f.set(l.data.subarray(p,p+h)),c+=h,t.next=2;break;case 22:return t.abrupt("return",r);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:return u=o.sent,o.abrupt("return",u);case 9:return o.prev=9,o.t0=o.catch(2),console.error(o.t0),o.abrupt("return",p);case 13:case"end":return o.stop()}}),o,null,[[2,9]])}))))}},{key:"xWrite",value:function(t,e,r){var n=this,a=ao(this,ho).has(t);if(a||performance.now()-ao(this,po)>3e3){var o=this.handleAsync(Va(Ga().mark((function a(){var o;return Ga().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.handleAsync!==za(Za(s.prototype),"handleAsync",n)&&ao(n,ho).add(t),a.next=3,new Promise((function(t){return setTimeout(t)}));case 3:return o=no(n,vo,mo).call(n,t,e,r),oo(n,po,performance.now()),a.abrupt("return",o);case 6:case"end":return a.stop()}}),a)}))));return a&&ao(this,ho).delete(t),o}return no(this,vo,mo).call(this,t,e,r)}},{key:"xTruncate",value:function(t,e){var n=this,a=ao(this,so).get(t);"xTruncate ".concat(a.path," ").concat(e);try{Object.assign(a.block0,{fileSize:e,data:a.block0.data.slice(0,e)});var o=Object.assign({},a.block0);return ao(this,lo).run("readwrite",(function(t){var r=t.blocks;r.delete(no(n,Eo,Lo).call(n,a,-1/0,-e)),r.put(o)})),r}catch(t){return console.error(t),p}}},{key:"xSync",value:function(t,e){var n=this,a=ao(this,ho).has(t);if(a||"relaxed"!==ao(this,co).durability||performance.now()-ao(this,po)>3e3){var o=this.handleAsync(Va(Ga().mark((function r(){var a;return Ga().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.handleAsync!==za(Za(s.prototype),"handleAsync",n)&&ao(n,ho).add(t),r.next=3,no(n,yo,To).call(n,t,e);case 3:return a=r.sent,oo(n,po,performance.now()),r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)}))));return a&&ao(this,ho).delete(t),o}var i=ao(this,so).get(t);return"xSync ".concat(i.path," ").concat(e),r}},{key:"xFileSize",value:function(t,e){var n=ao(this,so).get(t);return"xFileSize ".concat(n.path),e.setBigInt64(0,BigInt(n.block0.fileSize),!0),r}},{key:"xLock",value:function(t,e){var n=this;return this.handleAsync(Va(Ga().mark((function a(){var o,i;return Ga().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=ao(n,so).get(t),"xLock ".concat(o.path," ").concat(e),a.prev=2,a.next=5,o.locks.lock(e);case 5:if((i=a.sent)!==r||o.locks.state!==Pt){a.next=10;break}return a.next=9,ao(n,lo).run("readonly",(function(t){return t.blocks.get(no(n,Eo,Lo).call(n,o,0))}));case 9:o.block0=a.sent;case 10:return a.abrupt("return",i);case 13:return a.prev=13,a.t0=a.catch(2),console.error(a.t0),a.abrupt("return",p);case 17:case"end":return a.stop()}}),a,null,[[2,13]])}))))}},{key:"xUnlock",value:function(t,e){var r=this;return this.handleAsync(Va(Ga().mark((function n(){var a;return Ga().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=ao(r,so).get(t),"xUnlock ".concat(a.path," ").concat(e),n.prev=2,n.abrupt("return",a.locks.unlock(e));case 6:return n.prev=6,n.t0=n.catch(2),console.error(n.t0),n.abrupt("return",p);case 10:case"end":return n.stop()}}),n,null,[[2,6]])}))))}},{key:"xCheckReservedLock",value:function(t,e){var n=this;return this.handleAsync(Va(Ga().mark((function a(){var o,i;return Ga().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=ao(n,so).get(t),"xCheckReservedLock ".concat(o.path),a.next=4,o.locks.isSomewhereReserved();case 4:return i=a.sent,e.setInt32(0,i?1:0,!0),a.abrupt("return",r);case 7:case"end":return a.stop()}}),a)}))))}},{key:"xSectorSize",value:function(t){return 512}},{key:"xDeviceCharacteristics",value:function(t){return Zt|Xt|Yt|zt}},{key:"xFileControl",value:function(t,e,n){var a=this,o=ao(this,so).get(t);switch("xFileControl ".concat(o.path," ").concat(e),e){case 11:return o.overwrite=!0,r;case 21:if(o.overwrite)try{return this.handleAsync(Va(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,no(a,bo,Io).call(a,o);case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}}),t)}))))}catch(t){return console.error(t),p}if(o.isMetadataChanged)try{ao(this,lo).run("readwrite",function(){var t=Va(Ga().mark((function t(e){var r;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.blocks,t.next=3,r.put(o.block0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o.isMetadataChanged=!1}catch(t){return console.error(t),p}return r;case 22:return o.overwrite=!1,r;case 31:return this.handleAsync(Va(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o.block0.version--,o.changedPages=new Set,ao(a,lo).run("readwrite",function(){var t=Va(Ga().mark((function t(e){var r,n,a,i,u;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.blocks,t.next=3,r.index("version").getAllKeys(IDBKeyRange.bound([o.path],[o.path,o.block0.version]));case 3:n=t.sent,a=Wa(n);try{for(a.s();!(i=a.n()).done;)u=i.value,r.delete(u)}catch(t){a.e(t)}finally{a.f()}case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",p);case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))));case 32:try{var i=Object.assign({},o.block0);i.data=i.data.slice();var u=o.changedPages;return o.changedPages=null,o.isMetadataChanged=!1,ao(this,lo).run("readwrite",function(){var t=Va(Ga().mark((function t(e){var r,n,c,s,l,f;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e.blocks).put(i),t.next=4,n.get([o.path,"purge",0]);case 4:if(t.t1=r=t.sent,t.t0=null!==t.t1,!t.t0){t.next=8;break}t.t0=void 0!==r;case 8:if(!t.t0){t.next=12;break}t.t2=r,t.next=13;break;case 12:t.t2={path:o.path,offset:"purge",version:0,data:new Map,count:0};case 13:(c=t.t2).count+=u.size,s=Wa(u);try{for(s.s();!(l=s.n()).done;)f=l.value,c.data.set(f,i.version)}catch(t){s.e(t)}finally{s.f()}n.put(c),no(a,_o,So).call(a,o.path,c.count);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r}catch(t){return console.error(t),p}case 33:return this.handleAsync(Va(Ga().mark((function t(){return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o.changedPages=null,o.isMetadataChanged=!1,t.next=5,ao(a,lo).run("readonly",(function(t){return t.blocks.get([o.path,0,o.block0.version+1])}));case 5:return o.block0=t.sent,t.abrupt("return",r);case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",p);case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))));default:return v}}},{key:"xAccess",value:function(t,e,n){var a=this;return this.handleAsync(Va(Ga().mark((function o(){var i,u;return Ga().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,i=new URL(t,"file://localhost/").pathname,"xAccess ".concat(i," ").concat(e),o.next=5,ao(a,lo).run("readonly",(function(t){return t.blocks.getKey(no(a,Eo,Lo).call(a,{path:i},0))}));case 5:return u=o.sent,n.setInt32(0,u?1:0,!0),o.abrupt("return",r);case 10:return o.prev=10,o.t0=o.catch(0),console.error(o.t0),o.abrupt("return",p);case 14:case"end":return o.stop()}}),o,null,[[0,10]])}))))}},{key:"xDelete",value:function(t,e){var n=this;return this.handleAsync(Va(Ga().mark((function a(){var o;return Ga().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=new URL(t,"file://localhost/").pathname,"xDelete ".concat(o," ").concat(e),a.prev=2,ao(n,lo).run("readwrite",(function(t){return t.blocks.delete(IDBKeyRange.bound([o],[o,[]]))})),!e){a.next=7;break}return a.next=7,ao(n,lo).sync();case 7:return a.abrupt("return",r);case 10:return a.prev=10,a.t0=a.catch(2),console.error(a.t0),a.abrupt("return",p);case 14:case"end":return a.stop()}}),a,null,[[2,10]])}))))}},{key:"purge",value:(a=Va(Ga().mark((function t(e){var r;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Date.now(),t.next=3,ao(this,lo).run("readwrite",function(){var t=Va(Ga().mark((function t(n){var a,o,i,u,c,s,l,f;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.blocks,t.next=3,o.get([e,"purge",0]);case 3:if(!(i=t.sent)){t.next=9;break}u=Wa(i.data);try{for(u.s();!(c=u.n()).done;)p=c.value,h=2,s=function(t){if(Array.isArray(t))return t}(p)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o,i,u=[],c=!0,s=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,a=t}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return u}}(p,h)||qa(p,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=s[0],f=s[1],o.delete(IDBKeyRange.bound([e,l,f],[e,l,1/0],!0,!1))}catch(t){u.e(t)}finally{u.f()}return t.next=9,o.delete([e,"purge",0]);case 9:"purge ".concat(e," ").concat(null!==(a=null==i?void 0:i.data.size)&&void 0!==a?a:0," pages in ").concat(Date.now()-r," ms");case 10:case"end":return t.stop()}var p,h}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})}],n&&Xa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}();function mo(t,e,n){var a=ao(this,so).get(t);"xWrite ".concat(a.path," ").concat(e.byteLength," ").concat(n);try{var o=a.block0.fileSize;a.block0.fileSize<n+e.byteLength&&(a.block0.fileSize=n+e.byteLength,a.isMetadataChanged=!0);var i=0===n?a.block0:{path:a.path,offset:-n,version:a.block0.version,data:null};return i.data=e.slice(),a.changedPages?(o===a.block0.fileSize&&a.changedPages.add(-n),0!==n&&ao(this,lo).run("readwrite",(function(t){return t.blocks.put(i)}))):ao(this,lo).run("readwrite",(function(t){return t.blocks.put(i)})),a.isMetadataChanged=0!==n&&a.isMetadataChanged,r}catch(t){return console.error(t),p}}function To(t,e){return go.apply(this,arguments)}function go(){return go=Va(Ga().mark((function t(e,n){var a;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=ao(this,so).get(e),"xSync ".concat(a.path," ").concat(n),t.prev=2,a.isMetadataChanged&&(ao(this,lo).run("readwrite",function(){var t=Va(Ga().mark((function t(e){var r;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.blocks,t.next=3,r.put(a.block0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a.isMetadataChanged=!1),t.next=6,ao(this,lo).sync();case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",p);case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t,this,[[2,8]])}))),go.apply(this,arguments)}function So(t,e){var r=this;"manual"===ao(this,co).purge||ao(this,fo).has(t)||e<ao(this,co).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback((function(){r.purge(t),ao(r,fo).delete(t)})):setTimeout((function(){r.purge(t),ao(r,fo).delete(t)})),ao(this,fo).add(t))}function Lo(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=!e||-e<t.block0.data.length?-1/0:t.block0.version;return IDBKeyRange.bound([t.path,e,n],[t.path,r,1/0])}function Io(t){return xo.apply(this,arguments)}function xo(){return xo=Va(Ga().mark((function t(e){var r,n,a,o,i,u,c,s,l;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=e.block0.data.length)<18)){t.next=3;break}return t.abrupt("return");case 3:if(n=new DataView(e.block0.data.buffer,e.block0.data.byteOffset),1===(a=n.getUint16(16))&&(a=65536),a!==r){t.next=8;break}return t.abrupt("return");case 8:return o=Math.max(r,a),i=o/r,u=o/a,c=n.getUint32(28),s=c*a,l=e.block0.version,t.next=16,ao(this,lo).run("readwrite",function(){var t=Va(Ga().mark((function t(r){var n,c,f,p,h,v,y,_,d,E,b,w,m,T,g,S,L,I,x;return Ga().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.blocks,t.next=3,n.index("version").getAllKeys(IDBKeyRange.bound([e.path,l+1],[e.path,1/0]));case 3:c=t.sent,f=Wa(c);try{for(f.s();!(p=f.n()).done;)h=p.value,n.delete(h)}catch(t){f.e(t)}finally{f.f()}n.delete([e.path,"purge",0]),v=0;case 8:if(!(v<s)){t.next=38;break}return t.next=11,n.getAll(IDBKeyRange.lowerBound([e.path,-(v+o),1/0]),i);case 11:y=t.sent,_=Wa(y);try{for(_.s();!(d=_.n()).done;)E=d.value,n.delete([E.path,E.offset,E.version])}catch(t){_.e(t)}finally{_.f()}if(1!==u){t.next=23;break}b=new Uint8Array(a),w=Wa(y);try{for(w.s();!(m=w.n()).done;)T=m.value,b.set(T.data,-(v+T.offset))}catch(t){w.e(t)}finally{w.f()}0===(g={path:e.path,offset:-v,version:l,data:b}).offset&&(g.fileSize=s,e.block0=g),n.put(g),t.next=35;break;case 23:S=y[0],L=0;case 25:if(!(L<u)){t.next=35;break}if(!(-(I=-(v+L*a))>=s)){t.next=29;break}return t.abrupt("break",35);case 29:0===(x={path:S.path,offset:I,version:l,data:S.data.subarray(L*a,(L+1)*a)}).offset&&(x.fileSize=s,e.block0=x),n.put(x);case 32:++L,t.next=25;break;case 35:v+=o,t.next=8;break;case 38:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 16:case"end":return t.stop()}}),t,this)}))),xo.apply(this,arguments)}function ko(){ko=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),u=new N(n||[]);return a(i,"_invoke",{value:I(t,r,u)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",v="executing",y="completed",_={};function d(){}function E(){}function b(){}var w={};s(w,i,(function(){return this}));var m=Object.getPrototypeOf,T=m&&m(m(R([])));T&&T!==r&&n.call(T,i)&&(w=T);var g=b.prototype=d.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(a,o,i,u){var c=f(t[a],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Qo(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,u)}),(function(t){r("throw",t,i,u)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function I(e,r,n){var a=p;return function(o,i){if(a===v)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var c=x(u,n);if(c){if(c===_)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=v;var s=f(e,r,n);if("normal"===s.type){if(a=n.done?y:h,s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function x(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,_;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,_):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Qo(e)+" is not iterable")}return E.prototype=b,a(g,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:E,configurable:!0}),E.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,u,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new L(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return u.type="throw",u.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),_}},e}function Oo(t,e,r,n,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,a)}function No(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){Oo(o,n,a,i,u,"next",t)}function u(t){Oo(o,n,a,i,u,"throw",t)}i(void 0)}))}}function Ro(t){return function(t){if(Array.isArray(t))return Co(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ao(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(t,e){if(t){if("string"==typeof t)return Co(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Co(t,e):void 0}}function Co(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qo(t){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(t)}function Po(t){var e="function"==typeof Map?new Map:void 0;return Po=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Mo(t,arguments,Fo(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Do(r,t)},Po(t)}function Mo(t,e,r){return Mo=jo()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var a=new(Function.bind.apply(t,n));return r&&Do(a,r.prototype),a},Mo.apply(null,arguments)}function jo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Do(t,e){return Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Do(t,e)}function Fo(t){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(t)}function Uo(t){var e,r;function n(e,r){try{var o=t[e](r),i=o.value,u=i instanceof Bo;Promise.resolve(u?i.v:i).then((function(r){if(u){var c="return"===e?"return":"next";if(!i.k||r.done)return n(c,r);r=t[c](r).value}a(o.done?"return":"normal",r)}),(function(t){n("throw",t)}))}catch(t){a("throw",t)}}function a(t,a){switch(t){case"return":e.resolve({value:a,done:!0});break;case"throw":e.reject(a);break;default:e.resolve({value:a,done:!1})}(e=e.next)?n(e.key,e.arg):r=null}this._invoke=function(t,a){return new Promise((function(o,i){var u={key:t,arg:a,resolve:o,reject:i,next:null};r?r=r.next=u:(e=r=u,n(t,a))}))},"function"!=typeof t.return&&(this.return=void 0)}function Bo(t,e){this.v=t,this.k=e}function Go(t){var e,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(e=t[r]))return e.call(t);if(n&&null!=(e=t[n]))return new Wo(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Wo(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return Wo=function(t){this.s=t,this.n=t.next},Wo.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var r=this.s.return;return void 0===r?Promise.resolve({value:t,done:!0}):e(r.apply(this.s,arguments))},throw:function(t){var r=this.s.return;return void 0===r?Promise.reject(t):e(r.apply(this.s,arguments))}},new Wo(t)}Uo.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Uo.prototype.next=function(t){return this._invoke("next",t)},Uo.prototype.throw=function(t){return this._invoke("throw",t)},Uo.prototype.return=function(t){return this._invoke("return",t)};var qo=0x7fffffffffffffffn,Ho=-0x8000000000000000n,Ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Do(t,e)}(o,Po(Error));var e,r,n,a=(r=o,n=jo(),function(){var t,e=Fo(r);if(n){var a=Fo(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Qo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(r=a.call(this,t)).code=e,r}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(),Vo=!0;function Xo(t){var e={},n=t._getSqliteFree(),a=t._malloc(8),o=[a,a+4];function i(e){if("string"!=typeof e)return 0;var r=t.lengthBytesUTF8(e),n=t._sqlite3_malloc(r+1);return t.stringToUTF8(e,n,r+1),n}function u(t,e){return BigInt(e)<<32n|0xffffffffn&BigInt(t)}var c,s,l=(c=BigInt(Number.MAX_SAFE_INTEGER)>>32n,s=BigInt(Number.MIN_SAFE_INTEGER)>>32n,function(t,e){return e>c||e<s?u(t,e):4294967296*e+(2147483647&t)-(2147483648&t)}),f=new Set;function p(t){if(!f.has(t))throw new Ko("not a database",g)}var h,v,y=new Map;function _(t){if(!y.has(t))throw new Ko("not a statement",g)}e.bind_collection=function(t,n){_(t);for(var a=Array.isArray(n),o=e.bind_parameter_count(t),i=1;i<=o;++i){var u=n[a?i-1:e.bind_parameter_name(t,i)];void 0!==u&&e.bind(t,i,u)}return r},e.bind=function(t,r,n){switch(_(t),Qo(n)){case"number":return n===(0|n)?e.bind_int(t,r,n):e.bind_double(t,r,n);case"string":return e.bind_text(t,r,n);default:return n instanceof Uint8Array||Array.isArray(n)?e.bind_blob(t,r,n):null===n?e.bind_null(t,r):"bigint"==typeof n?e.bind_int64(t,r,n):void 0===n?O:(console.warn("unknown binding converted to null",n),e.bind_null(t,r))}},e.bind_blob=(h="sqlite3_bind_blob",v=t.cwrap.apply(t,[h].concat(Ro(Yo("nnnnn:n")))),function(e,r,a){var o;_(e);var i=null!==(o=a.byteLength)&&void 0!==o?o:a.length,u=t._sqlite3_malloc(i);t.HEAPU8.subarray(u).set(a);var c=v(e,r,u,i,n);return b(h,c,y.get(e))}),e.bind_parameter_count=function(){var e=t.cwrap.apply(t,["sqlite3_bind_parameter_count"].concat(Ro(Yo("n:n"))));return function(t){return _(t),e(t)}}(),e.bind_double=function(){var e="sqlite3_bind_double",r=t.cwrap.apply(t,[e].concat(Ro(Yo("nnn:n"))));return function(t,n,a){_(t);var o=r(t,n,a);return b(e,o,y.get(t))}}(),e.bind_int=function(){var e="sqlite3_bind_int",r=t.cwrap.apply(t,[e].concat(Ro(Yo("nnn:n"))));return function(t,n,a){if(_(t),a>2147483647||a<-2147483648)return x;var o=r(t,n,a);return b(e,o,y.get(t))}}(),e.bind_int64=function(){var e="sqlite3_bind_int64",r=t.cwrap.apply(t,[e].concat(Ro(Yo("nnnn:n"))));return function(t,n,a){if(_(t),a>qo||a<Ho)return x;var o=a>>32n,i=r(t,n,Number(0xffffffffn&a),Number(o));return b(e,i,y.get(t))}}(),e.bind_null=function(){var e="sqlite3_bind_null",r=t.cwrap.apply(t,[e].concat(Ro(Yo("nn:n"))));return function(t,n){_(t);var a=r(t,n);return b(e,a,y.get(t))}}(),e.bind_parameter_name=function(){var e=t.cwrap.apply(t,["sqlite3_bind_parameter_name"].concat(Ro(Yo("n:s"))));return function(t,r){return _(t),e(t,r)}}(),e.bind_text=function(){var e="sqlite3_bind_text",r=t.cwrap.apply(t,[e].concat(Ro(Yo("nnnnn:n"))));return function(t,a,o){_(t);var u=i(o),c=r(t,a,u,-1,n);return b(e,c,y.get(t))}}(),e.changes=function(){var e=t.cwrap.apply(t,["sqlite3_changes"].concat(Ro(Yo("n:n"))));return function(t){return p(t),e(t)}}(),e.close=function(){var e="sqlite3_close",r=t.cwrap.apply(t,[e].concat(Ro(Yo("n:n")),[{async:Vo}]));return function(){var t=No(ko().mark((function t(n){var a;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(n),t.next=3,r(n);case 3:return a=t.sent,f.delete(n),t.abrupt("return",b(e,a,n));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(),e.column=function(r,n){_(r);var a=e.column_type(r,n);switch(a){case qe:return e.column_blob(r,n);case Ge:return e.column_double(r,n);case Be:var o=e.column_int(r,n),i=t.getTempRet0();return l(o,i);case He:return null;case We:return e.column_text(r,n);default:throw new Ko("unknown type",a)}},e.column_blob=function(){var r=t.cwrap.apply(t,["sqlite3_column_blob"].concat(Ro(Yo("nn:n"))));return function(n,a){_(n);var o=e.column_bytes(n,a),i=r(n,a);return t.HEAPU8.subarray(i,i+o)}}(),e.column_bytes=function(){var e=t.cwrap.apply(t,["sqlite3_column_bytes"].concat(Ro(Yo("nn:n"))));return function(t,r){return _(t),e(t,r)}}(),e.column_count=function(){var e=t.cwrap.apply(t,["sqlite3_column_count"].concat(Ro(Yo("n:n"))));return function(t){return _(t),e(t)}}(),e.column_double=function(){var e=t.cwrap.apply(t,["sqlite3_column_double"].concat(Ro(Yo("nn:n"))));return function(t,r){return _(t),e(t,r)}}(),e.column_int=function(){var e=t.cwrap.apply(t,["sqlite3_column_int64"].concat(Ro(Yo("nn:n"))));return function(t,r){return _(t),e(t,r)}}(),e.column_int64=function(){var e=t.cwrap.apply(t,["sqlite3_column_int64"].concat(Ro(Yo("nn:n"))));return function(r,n){return _(r),u(e(r,n),t.getTempRet0())}}(),e.column_name=function(){var e=t.cwrap.apply(t,["sqlite3_column_name"].concat(Ro(Yo("nn:s"))));return function(t,r){return _(t),e(t,r)}}(),e.column_names=function(t){for(var r=[],n=e.column_count(t),a=0;a<n;++a)r.push(e.column_name(t,a));return r},e.column_text=function(){var e=t.cwrap.apply(t,["sqlite3_column_text"].concat(Ro(Yo("nn:s"))));return function(t,r){return _(t),e(t,r)}}(),e.column_type=function(){var e=t.cwrap.apply(t,["sqlite3_column_type"].concat(Ro(Yo("nn:n"))));return function(t,r){return _(t),e(t,r)}}(),e.create_function=function(e,r,n,a,o,i,u,c){if(p(e),i&&!u&&!c)return b("sqlite3_create_function",t.createFunction(e,r,n,a,o,i),e);if(!i&&u&&c)return b("sqlite3_create_function",t.createAggregate(e,r,n,a,o,u,c),e);throw new Ko("invalid function combination",g)},e.create_module=function(e,r,n,a){return p(e),b("sqlite3_create_module",t.createModule(e,r,n,a),e)},e.data_count=function(){var e=t.cwrap.apply(t,["sqlite3_data_count"].concat(Ro(Yo("n:n"))));return function(t){return _(t),e(t)}}(),e.declare_vtab=function(){var e=t.cwrap.apply(t,["sqlite3_declare_vtab"].concat(Ro(Yo("ns:n"))));return function(t,r){return b("sqlite3_declare_vtab",e(t,r))}}(),e.exec=function(){var t=No(ko().mark((function t(n,a,o){var i,u,c,s,l,f,p,h,v;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=!1,u=!1,t.prev=2,s=Go(e.statements(n,a));case 4:return t.next=6,s.next();case 6:if(!(i=!(l=t.sent).done)){t.next=24;break}f=l.value,p=void 0;case 9:return t.next=11,e.step(f);case 11:if(t.t0=t.sent,t.t1=R,t.t0!==t.t1){t.next=21;break}if(!o){t.next=19;break}return p=null!==(h=p)&&void 0!==h?h:e.column_names(f),v=e.row(f),t.next=19,o(v,p);case 19:t.next=9;break;case 21:i=!1,t.next=4;break;case 24:t.next=30;break;case 26:t.prev=26,t.t2=t.catch(2),u=!0,c=t.t2;case 30:if(t.prev=30,t.prev=31,!i||null==s.return){t.next=35;break}return t.next=35,s.return();case 35:if(t.prev=35,!u){t.next=38;break}throw c;case 38:return t.finish(35);case 39:return t.finish(30);case 40:return t.abrupt("return",r);case 41:case"end":return t.stop()}}),t,null,[[2,26,30,40],[31,,35,39]])})));return function(e,r,n){return t.apply(this,arguments)}}(),e.finalize=function(){var e=t.cwrap.apply(t,["sqlite3_finalize"].concat(Ro(Yo("n:n")),[{async:Vo}]));return function(){var t=No(ko().mark((function t(r){var n;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y.has(r)){t.next=2;break}return t.abrupt("return",g);case 2:return t.next=4,e(r);case 4:return n=t.sent,y.get(r),y.delete(r),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(),e.get_autocommit=function(){var e=t.cwrap.apply(t,["sqlite3_get_autocommit"].concat(Ro(Yo("n:n"))));return function(t){return e(t)}}(),e.libversion=function(){var e=t.cwrap.apply(t,["sqlite3_libversion"].concat(Ro(Yo(":s"))));return function(){return e()}}(),e.libversion_number=function(){var e=t.cwrap.apply(t,["sqlite3_libversion_number"].concat(Ro(Yo(":n"))));return function(){return e()}}(),e.limit=function(){var e=t.cwrap.apply(t,["sqlite3_limit"].concat(Ro(Yo("nnn:n"))));return function(t,r,n){return e(t,r,n)}}(),e.open_v2=function(){var e="sqlite3_open_v2",r=t.cwrap.apply(t,[e].concat(Ro(Yo("snnn:n")),[{async:Vo}]));return function(){var n=No(ko().mark((function n(a,u,c){var s,l;return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=u||yt|vt,c=i(c),n.next=4,r(a,o[0],u,c);case 4:return s=n.sent,l=t.getValue(o[0],"*"),f.add(l),t._sqlite3_free(c),t.ccall("RegisterExtensionFunctions","void",["number"],[l]),b(e,s),n.abrupt("return",l);case 11:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}()}(),e.prepare_v2=function(){var e="sqlite3_prepare_v2",r=t.cwrap.apply(t,[e].concat(Ro(Yo("nnnnn:n")),[{async:Vo}]));return function(){var n=No(ko().mark((function n(a,i){var u,c;return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(a,i,-1,o[0],o[1]);case 2:if(u=n.sent,b(e,u,a),!(c=t.getValue(o[0],"*"))){n.next=8;break}return y.set(c,a),n.abrupt("return",{stmt:c,sql:t.getValue(o[1],"*")});case 8:return n.abrupt("return",null);case 9:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()}(),e.progress_handler=function(e,r,n,a){p(e),t.progressHandler(e,r,n,a)},e.reset=function(){var e="sqlite3_reset",r=t.cwrap.apply(t,[e].concat(Ro(Yo("n:n")),[{async:Vo}]));return function(){var t=No(ko().mark((function t(n){var a;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(n),t.next=3,r(n);case 3:return a=t.sent,t.abrupt("return",b(e,a,y.get(n)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(),e.result=function(t,r){switch(Qo(r)){case"number":r===(0|r)?e.result_int(t,r):e.result_double(t,r);break;case"string":e.result_text(t,r);break;default:if(r instanceof Uint8Array||Array.isArray(r))e.result_blob(t,r);else if(null===r)e.result_null(t);else{if("bigint"==typeof r)return e.result_int64(t,r);console.warn("unknown result converted to null",r),e.result_null(t)}}},e.result_blob=function(){var e=t.cwrap.apply(t,["sqlite3_result_blob"].concat(Ro(Yo("nnnn:n"))));return function(r,a){var o,i=null!==(o=a.byteLength)&&void 0!==o?o:a.length,u=t._sqlite3_malloc(i);t.HEAPU8.subarray(u).set(a),e(r,u,i,n)}}(),e.result_double=function(){var e=t.cwrap.apply(t,["sqlite3_result_double"].concat(Ro(Yo("nn:n"))));return function(t,r){e(t,r)}}(),e.result_int=function(){var e=t.cwrap.apply(t,["sqlite3_result_int"].concat(Ro(Yo("nn:n"))));return function(t,r){e(t,r)}}(),e.result_int64=function(){var e=t.cwrap.apply(t,["sqlite3_result_int64"].concat(Ro(Yo("nnn:n"))));return function(t,r){if(r>qo||r<Ho)return x;var n=r>>32n;e(t,Number(0xffffffffn&r),Number(n))}}(),e.result_null=function(){var e=t.cwrap.apply(t,["sqlite3_result_null"].concat(Ro(Yo("n:n"))));return function(t){e(t)}}(),e.result_text=function(){var e=t.cwrap.apply(t,["sqlite3_result_text"].concat(Ro(Yo("nnnn:n"))));return function(t,r){var a=i(r);e(t,a,-1,n)}}(),e.row=function(r){for(var n=[],a=e.data_count(r),o=0;o<a;++o){var i=e.column(r,o);n.push((null==i?void 0:i.buffer)===t.HEAPU8.buffer?i.slice():i)}return n},e.set_authorizer=function(e,r,n){return p(e),b("sqlite3_set_authorizer",t.setAuthorizer(e,r,n),e)},e.sql=function(){var e=t.cwrap.apply(t,["sqlite3_sql"].concat(Ro(Yo("n:s"))));return function(t){return _(t),e(t)}}(),e.statements=function(t,r){return(n=ko().mark((function n(){var a,o,i;return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=e.str_new(t,r),o={stmt:null,sql:e.str_value(a)},n.prev=2;case 3:return n.next=5,new Bo(e.prepare_v2(t,o.sql),0);case 5:if(!(o=n.sent)){n.next=12;break}return n.next=8,o.stmt;case 8:e.finalize(o.stmt),o.stmt=null,n.next=3;break;case 12:return n.prev=12,null!==(i=o)&&void 0!==i&&i.stmt&&e.finalize(o.stmt),e.str_finish(a),n.finish(12);case 16:case"end":return n.stop()}}),n,null,[[2,,12,16]])})),function(){return new Uo(n.apply(this,arguments))})();var n},e.step=function(){var e="sqlite3_step",r=t.cwrap.apply(t,[e].concat(Ro(Yo("n:n")),[{async:Vo}]));return function(){var t=No(ko().mark((function t(n){var a;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(n),t.next=3,r(n);case 3:return a=t.sent,t.abrupt("return",b(e,a,y.get(n),[R,A]));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}();var d=0,E=new Map;function b(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if((arguments.length>3&&void 0!==arguments[3]?arguments[3]:[r]).includes(n))return n;var o=a?t.ccall("sqlite3_errmsg","string",["number"],[a]):e;throw new Ko(o,n)}return e.str_new=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.lengthBytesUTF8(r),a=4294967295&d++,o={offset:t._sqlite3_malloc(n+1),bytes:n};return E.set(a,o),t.stringToUTF8(r,o.offset,o.bytes+1),a},e.str_appendall=function(e,r){if(!E.has(e))throw new Ko("not a string",g);var n=E.get(e),a=t.lengthBytesUTF8(r),o=n.bytes+a,i=t._sqlite3_malloc(o+1);t.HEAPU8.subarray(i,i+o+1).set(t.HEAPU8.subarray(n.offset,n.offset+n.bytes)),t.stringToUTF8(r,i+n.bytes,a+1),t._sqlite3_free(n.offset),n.offset=i,n.bytes=o,E.set(e,n)},e.str_finish=function(e){if(!E.has(e))throw new Ko("not a string",g);var r=E.get(e);E.delete(e),t._sqlite3_free(r.offset)},e.str_value=function(t){if(!E.has(t))throw new Ko("not a string",g);return E.get(t).offset},e.user_data=function(e){return t.getFunctionUserData(e)},e.value=function(r){var n=e.value_type(r);switch(n){case qe:return e.value_blob(r);case Ge:return e.value_double(r);case Be:var a=e.value_int(r),o=t.getTempRet0();return l(a,o);case He:return null;case We:return e.value_text(r);default:throw new Ko("unknown type",n)}},e.value_blob=function(){var r=t.cwrap.apply(t,["sqlite3_value_blob"].concat(Ro(Yo("n:n"))));return function(n){var a=e.value_bytes(n),o=r(n);return t.HEAPU8.subarray(o,o+a)}}(),e.value_bytes=function(){var e=t.cwrap.apply(t,["sqlite3_value_bytes"].concat(Ro(Yo("n:n"))));return function(t){return e(t)}}(),e.value_double=function(){var e=t.cwrap.apply(t,["sqlite3_value_double"].concat(Ro(Yo("n:n"))));return function(t){return e(t)}}(),e.value_int=function(){var e=t.cwrap.apply(t,["sqlite3_value_int64"].concat(Ro(Yo("n:n"))));return function(t){return e(t)}}(),e.value_int64=function(){var e=t.cwrap.apply(t,["sqlite3_value_int64"].concat(Ro(Yo("n:n"))));return function(r){return u(e(r),t.getTempRet0())}}(),e.value_text=function(){var e=t.cwrap.apply(t,["sqlite3_value_text"].concat(Ro(Yo("n:s"))));return function(t){return e(t)}}(),e.value_type=function(){var e=t.cwrap.apply(t,["sqlite3_value_type"].concat(Ro(Yo("n:n"))));return function(t){return e(t)}}(),e.vfs_register=function(e,r){return b("sqlite3_vfs_register",t.registerVFS(e,r))},e}function Yo(t){var e=[],r=t.match(/([ns@]*):([nsv@])/);switch(r[2]){case"n":e.push("number");break;case"s":e.push("string");break;case"v":e.push(null)}var n,a=[],o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ao(t))){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}(r[1]);try{for(o.s();!(n=o.n()).done;)switch(n.value){case"n":a.push("number");break;case"s":a.push("string")}}catch(t){o.e(t)}finally{o.f()}return e.push(a),e}var zo=e.Fkb,$o=e.URc,Jo=e.R_B,Zo=e.d4h,ti=e.$Xt,ei=e.uEU,ri=e.Tz1,ni=e.cEX,ai=e.gBJ,oi=e.l3E,ii=e.B69,ui=e.lvZ,ci=e.p9C,si=e.hJx,li=e.Ux8,fi=e.zMz,pi=e.CgY,hi=e.t4g,vi=e.R4d,yi=e.XyI,_i=e.lQ8,di=e.Hdp,Ei=e.Tw$,bi=e.Y79,wi=e.Hdo,mi=e.H1D,Ti=e.SOz,gi=e.g$m,Si=e.bsS,Li=e.Gxl,Ii=e.c3L,xi=e.u$q,ki=e.PL,Oi=e.znU,Ni=e.Pik,Ri=e.i4y,Ai=e.d_v,Ci=e.wWJ,Qi=e.T2e,Pi=e.J0L,Mi=e.t8x,ji=e.Uwo,Di=e.WXz,Fi=e.DE5,Ui=e.DZ9,Bi=e.BKY,Gi=e.hAd,Wi=e.xOA,qi=e.uQ0,Hi=e.OSH,Ki=e.R76,Vi=e.gT3,Xi=e.SUy,Yi=e.N9g,zi=e.bpX,$i=e.m7f,Ji=e.dXX,Zi=e.yq9,tu=e.lbG,eu=e.$Ow,ru=e.Lwr,nu=e.kLR,au=e.IG,ou=e.aPG,iu=e.nTt,uu=e.kui,cu=e.oxn,su=e.sy0,lu=e.juO,fu=e.yEb,pu=e.EkU,hu=e.yFm,vu=e.xxM,yu=e.tCz,_u=e.tUb,du=e.K8l,Eu=e.sSG,bu=e.$MK,wu=e.nek,mu=e.xSw,Tu=e.mRH,gu=e.jpv,Su=e.$lm,Lu=e.yYC,Iu=e.l9F,xu=e.xms,ku=e.YSJ,Ou=e.yi5,Nu=e.dQ6,Ru=e.S7b,Au=e.uEX,Cu=e.Cy4,Qu=e.Bk3,Pu=e.bvJ,Mu=e._R0,ju=e.gmo,Du=e.bgs,Fu=e.fEe,Uu=e.vzF,Bu=e.V0V,Gu=e.xT8,Wu=e.Ojk,qu=e.g9U,Hu=e.Gsh,Ku=e.OEd,Vu=e.WUr,Xu=e.P5g,Yu=e.gTy,zu=e.nbB,$u=e.A6h,Ju=e.G1k,Zu=e.pMm,tc=e.A$M,ec=e.WF6,rc=e.zlK,nc=e.ESS,ac=e.bA6,oc=e.qlf,ic=e.auP,uc=e.zdN,cc=e.P3t,sc=e.iMe,lc=e.FuT,fc=e.MMv,pc=e.p1y,hc=e.k$g,vc=e._MU,yc=e._Nv,_c=e.d2t,dc=e.DSR,Ec=e.WnM,bc=e.ZkT,wc=e.tel,mc=e.a8U,Tc=e.Ucx,gc=e.wyC,Sc=e.arr,Lc=e.rNs,Ic=e.crF,xc=e.eBK,kc=e.hmy,Oc=e.k5z,Nc=e.n6A,Rc=e.rP1,Ac=e.LdW,Cc=e.JBI,Qc=e.t1_,Pc=e.Hd1,Mc=e.hOb,jc=e.Y3G,Dc=e.R7C,Fc=e.GmG,Uc=e.Vec,Bc=e.y$_,Gc=e.F0n,Wc=e.t0u,qc=e.y8g,Hc=e.bpM,Kc=e.v7S,Vc=e.uIf,Xc=e.faD,Yc=e.EMC,zc=e.H_8,$c=e.DjC,Jc=e.XcZ,Zc=e.WNj,ts=e.hx9,es=e.urA,rs=e.etR,ns=e.Cf_,as=e.Ymo,os=e.rY4,is=e.e1o,us=e.wnZ,cs=e.QBQ,ss=e.pck,ls=e.xKb,fs=e.jg1,ps=e.VsL,hs=e.Qvs,vs=e.Stw,ys=e.bNP,_s=e.xgP,ds=e._o_,Es=e.KwK,bs=e.zYS,ws=e.hvr,ms=e.BY3,Ts=e.NcX,gs=e.dPd,Ss=e.KLd,Ls=e.axt,Is=e.pcf,xs=e.vK6,ks=e.QQD,Os=e.pCT,Ns=e.YG8,Rs=e.VRv,As=e.jnA,Cs=e.uAw,Qs=e.gfv,Ps=e.fMz,Ms=e.QH,js=e.mLO,Ds=e.$6A,Fs=e.k86,Us=e.$3E,Bs=e.DLx,Gs=e.UTy,Ws=e.ccg,qs=e.Yo6,Hs=e.SjM,Ks=e.Odp,Vs=e.hE7,Xs=e.gjd,Ys=e.YB$,zs=e.k2H,$s=e.sq9,Js=e.YvX,Zs=e.uj5,tl=e.yN9,el=e.yeb,rl=e.Fkk,nl=e.dO0,al=e.m22,ol=e._Xb,il=e.N7Z,ul=e.Csu,cl=e.gtw,sl=e.lS2,ll=e.Ld6,fl=e.C8O,pl=e.d96;export{zo as Factory,$o as IDBBatchAtomicVFS,Jo as MemoryVFS,Zo as SQLITE_ABORT,ti as SQLITE_ACCESS_EXISTS,ei as SQLITE_ACCESS_READ,ri as SQLITE_ACCESS_READWRITE,ni as SQLITE_ALTER_TABLE,ai as SQLITE_ANALYZE,oi as SQLITE_ATTACH,ii as SQLITE_AUTH,ui as SQLITE_BLOB,ci as SQLITE_BUSY,si as SQLITE_CANTOPEN,li as SQLITE_CONSTRAINT,fi as SQLITE_CONSTRAINT_CHECK,pi as SQLITE_CONSTRAINT_COMMITHOOK,hi as SQLITE_CONSTRAINT_FOREIGNKEY,vi as SQLITE_CONSTRAINT_FUNCTION,yi as SQLITE_CONSTRAINT_NOTNULL,_i as SQLITE_CONSTRAINT_PINNED,di as SQLITE_CONSTRAINT_PRIMARYKEY,Ei as SQLITE_CONSTRAINT_ROWID,bi as SQLITE_CONSTRAINT_TRIGGER,wi as SQLITE_CONSTRAINT_UNIQUE,mi as SQLITE_CONSTRAINT_VTAB,Ti as SQLITE_COPY,gi as SQLITE_CORRUPT,Si as SQLITE_CREATE_INDEX,Li as SQLITE_CREATE_TABLE,Ii as SQLITE_CREATE_TEMP_INDEX,xi as SQLITE_CREATE_TEMP_TABLE,ki as SQLITE_CREATE_TEMP_TRIGGER,Oi as SQLITE_CREATE_TEMP_VIEW,Ni as SQLITE_CREATE_TRIGGER,Ri as SQLITE_CREATE_VIEW,Ai as SQLITE_CREATE_VTABLE,Ci as SQLITE_DELETE,Qi as SQLITE_DENY,Pi as SQLITE_DETACH,Mi as SQLITE_DETERMINISTIC,ji as SQLITE_DIRECTONLY,Di as SQLITE_DONE,Fi as SQLITE_DROP_INDEX,Ui as SQLITE_DROP_TABLE,Bi as SQLITE_DROP_TEMP_INDEX,Gi as SQLITE_DROP_TEMP_TABLE,Wi as SQLITE_DROP_TEMP_TRIGGER,qi as SQLITE_DROP_TEMP_VIEW,Hi as SQLITE_DROP_TRIGGER,Ki as SQLITE_DROP_VIEW,Vi as SQLITE_DROP_VTABLE,Xi as SQLITE_EMPTY,Yi as SQLITE_ERROR,zi as SQLITE_FCNTL_BEGIN_ATOMIC_WRITE,$i as SQLITE_FCNTL_BUSYHANDLER,Ji as SQLITE_FCNTL_CHUNK_SIZE,Zi as SQLITE_FCNTL_CKPT_DONE,tu as SQLITE_FCNTL_CKPT_START,eu as SQLITE_FCNTL_COMMIT_ATOMIC_WRITE,ru as SQLITE_FCNTL_COMMIT_PHASETWO,nu as SQLITE_FCNTL_DATA_VERSION,au as SQLITE_FCNTL_FILE_POINTER,ou as SQLITE_FCNTL_GET_LOCKPROXYFILE,iu as SQLITE_FCNTL_HAS_MOVED,uu as SQLITE_FCNTL_JOURNAL_POINTER,cu as SQLITE_FCNTL_LAST_ERRNO,su as SQLITE_FCNTL_LOCKSTATE,lu as SQLITE_FCNTL_LOCK_TIMEOUT,fu as SQLITE_FCNTL_MMAP_SIZE,pu as SQLITE_FCNTL_OVERWRITE,hu as SQLITE_FCNTL_PDB,vu as SQLITE_FCNTL_PERSIST_WAL,yu as SQLITE_FCNTL_POWERSAFE_OVERWRITE,_u as SQLITE_FCNTL_PRAGMA,du as SQLITE_FCNTL_RBU,Eu as SQLITE_FCNTL_RESERVE_BYTES,bu as SQLITE_FCNTL_ROLLBACK_ATOMIC_WRITE,wu as SQLITE_FCNTL_SET_LOCKPROXYFILE,mu as SQLITE_FCNTL_SIZE_HINT,Tu as SQLITE_FCNTL_SIZE_LIMIT,gu as SQLITE_FCNTL_SYNC,Su as SQLITE_FCNTL_SYNC_OMITTED,Lu as SQLITE_FCNTL_TEMPFILENAME,Iu as SQLITE_FCNTL_TRACE,xu as SQLITE_FCNTL_VFSNAME,ku as SQLITE_FCNTL_VFS_POINTER,Ou as SQLITE_FCNTL_WAL_BLOCK,Nu as SQLITE_FCNTL_WIN32_AV_RETRY,Ru as SQLITE_FCNTL_WIN32_GET_HANDLE,Au as SQLITE_FCNTL_WIN32_SET_HANDLE,Cu as SQLITE_FCNTL_ZIPVFS,Qu as SQLITE_FLOAT,Pu as SQLITE_FORMAT,Mu as SQLITE_FULL,ju as SQLITE_FUNCTION,Du as SQLITE_IGNORE,Fu as SQLITE_INDEX_CONSTRAINT_EQ,Uu as SQLITE_INDEX_CONSTRAINT_FUNCTION,Bu as SQLITE_INDEX_CONSTRAINT_GE,Gu as SQLITE_INDEX_CONSTRAINT_GLOB,Wu as SQLITE_INDEX_CONSTRAINT_GT,qu as SQLITE_INDEX_CONSTRAINT_IS,Hu as SQLITE_INDEX_CONSTRAINT_ISNOT,Ku as SQLITE_INDEX_CONSTRAINT_ISNOTNULL,Vu as SQLITE_INDEX_CONSTRAINT_ISNULL,Xu as SQLITE_INDEX_CONSTRAINT_LE,Yu as SQLITE_INDEX_CONSTRAINT_LIKE,zu as SQLITE_INDEX_CONSTRAINT_LT,$u as SQLITE_INDEX_CONSTRAINT_MATCH,Ju as SQLITE_INDEX_CONSTRAINT_NE,Zu as SQLITE_INDEX_CONSTRAINT_REGEXP,tc as SQLITE_INDEX_SCAN_UNIQUE,ec as SQLITE_INNOCUOUS,rc as SQLITE_INSERT,nc as SQLITE_INTEGER,ac as SQLITE_INTERNAL,oc as SQLITE_INTERRUPT,ic as SQLITE_IOCAP_ATOMIC,uc as SQLITE_IOCAP_ATOMIC16K,cc as SQLITE_IOCAP_ATOMIC1K,sc as SQLITE_IOCAP_ATOMIC2K,lc as SQLITE_IOCAP_ATOMIC32K,fc as SQLITE_IOCAP_ATOMIC4K,pc as SQLITE_IOCAP_ATOMIC512,hc as SQLITE_IOCAP_ATOMIC64K,vc as SQLITE_IOCAP_ATOMIC8K,yc as SQLITE_IOCAP_BATCH_ATOMIC,_c as SQLITE_IOCAP_IMMUTABLE,dc as SQLITE_IOCAP_POWERSAFE_OVERWRITE,Ec as SQLITE_IOCAP_SAFE_APPEND,bc as SQLITE_IOCAP_SEQUENTIAL,wc as SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN,mc as SQLITE_IOERR,Tc as SQLITE_IOERR_ACCESS,gc as SQLITE_IOERR_BEGIN_ATOMIC,Sc as SQLITE_IOERR_CHECKRESERVEDLOCK,Lc as SQLITE_IOERR_CLOSE,Ic as SQLITE_IOERR_COMMIT_ATOMIC,xc as SQLITE_IOERR_DATA,kc as SQLITE_IOERR_DELETE,Oc as SQLITE_IOERR_DELETE_NOENT,Nc as SQLITE_IOERR_DIR_FSYNC,Rc as SQLITE_IOERR_FSTAT,Ac as SQLITE_IOERR_FSYNC,Cc as SQLITE_IOERR_GETTEMPPATH,Qc as SQLITE_IOERR_LOCK,Pc as SQLITE_IOERR_NOMEM,Mc as SQLITE_IOERR_RDLOCK,jc as SQLITE_IOERR_READ,Dc as SQLITE_IOERR_ROLLBACK_ATOMIC,Fc as SQLITE_IOERR_SEEK,Uc as SQLITE_IOERR_SHORT_READ,Bc as SQLITE_IOERR_TRUNCATE,Gc as SQLITE_IOERR_UNLOCK,Wc as SQLITE_IOERR_VNODE,qc as SQLITE_IOERR_WRITE,Hc as SQLITE_LIMIT_ATTACHED,Kc as SQLITE_LIMIT_COLUMN,Vc as SQLITE_LIMIT_COMPOUND_SELECT,Xc as SQLITE_LIMIT_EXPR_DEPTH,Yc as SQLITE_LIMIT_FUNCTION_ARG,zc as SQLITE_LIMIT_LENGTH,$c as SQLITE_LIMIT_LIKE_PATTERN_LENGTH,Jc as SQLITE_LIMIT_SQL_LENGTH,Zc as SQLITE_LIMIT_TRIGGER_DEPTH,ts as SQLITE_LIMIT_VARIABLE_NUMBER,es as SQLITE_LIMIT_VDBE_OP,rs as SQLITE_LIMIT_WORKER_THREADS,ns as SQLITE_LOCKED,as as SQLITE_LOCK_EXCLUSIVE,os as SQLITE_LOCK_NONE,is as SQLITE_LOCK_PENDING,us as SQLITE_LOCK_RESERVED,cs as SQLITE_LOCK_SHARED,ss as SQLITE_MISMATCH,ls as SQLITE_MISUSE,fs as SQLITE_NOLFS,ps as SQLITE_NOMEM,hs as SQLITE_NOTADB,vs as SQLITE_NOTFOUND,ys as SQLITE_NOTICE,_s as SQLITE_NULL,ds as SQLITE_OK,Es as SQLITE_OPEN_AUTOPROXY,bs as SQLITE_OPEN_CREATE,ws as SQLITE_OPEN_DELETEONCLOSE,ms as SQLITE_OPEN_EXCLUSIVE,Ts as SQLITE_OPEN_FULLMUTEX,gs as SQLITE_OPEN_MAIN_DB,Ss as SQLITE_OPEN_MAIN_JOURNAL,Ls as SQLITE_OPEN_MEMORY,Is as SQLITE_OPEN_NOFOLLOW,xs as SQLITE_OPEN_NOMUTEX,ks as SQLITE_OPEN_PRIVATECACHE,Os as SQLITE_OPEN_READONLY,Ns as SQLITE_OPEN_READWRITE,Rs as SQLITE_OPEN_SHAREDCACHE,As as SQLITE_OPEN_SUBJOURNAL,Cs as SQLITE_OPEN_SUPER_JOURNAL,Qs as SQLITE_OPEN_TEMP_DB,Ps as SQLITE_OPEN_TEMP_JOURNAL,Ms as SQLITE_OPEN_TRANSIENT_DB,js as SQLITE_OPEN_URI,Ds as SQLITE_OPEN_WAL,Fs as SQLITE_PERM,Us as SQLITE_PRAGMA,Bs as SQLITE_PROTOCOL,Gs as SQLITE_RANGE,Ws as SQLITE_READ,qs as SQLITE_READONLY,Hs as SQLITE_RECURSIVE,Ks as SQLITE_REINDEX,Vs as SQLITE_ROW,Xs as SQLITE_SAVEPOINT,Ys as SQLITE_SCHEMA,zs as SQLITE_SELECT,$s as SQLITE_STATIC,Js as SQLITE_SUBTYPE,Zs as SQLITE_SYNC_DATAONLY,tl as SQLITE_SYNC_FULL,el as SQLITE_SYNC_NORMAL,rl as SQLITE_TEXT,nl as SQLITE_TOOBIG,al as SQLITE_TRANSACTION,ol as SQLITE_TRANSIENT,il as SQLITE_UPDATE,ul as SQLITE_UTF16,cl as SQLITE_UTF16BE,sl as SQLITE_UTF16LE,ll as SQLITE_UTF8,fl as SQLITE_WARNING,pl as SQLiteError};